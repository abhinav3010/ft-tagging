(this["webpackJsonptagging-feature"]=this["webpackJsonptagging-feature"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n.n(a),r=n(8),c=n.n(r),s=(n(14),n(15),n(9)),g=n(2),o=n(3),l=n(4),u=n(6),d=n(5),p=(n(16),n(0)),f=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).onInputChange=function(t){a.setState({tagInput:t.target.value})},a.onInputClick=function(t){t.stopPropagation()},a.handleKeyPress=function(t){if("Enter"===(t.code||t.key)){var e=a.props,n=e.rectCoOrdinates,i=e.onSaveTag,r=a.state.tagInput;if(!r)return;i&&i(n,r)}},a.state={tagInput:""},a.inputRef=i.a.createRef(),a}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(t){var e=this.props.isEditing;t.rectCoOrdinates!==this.props.rectCoOrdinates&&e&&(this.setState({tagInput:""}),this.inputRef.current&&this.inputRef.current.focus())}},{key:"render",value:function(){var t=this.props,e=t.isEditing,n=t.rectCoOrdinates,a=n.x,i=n.y,r=t.tagText,c=this.state.tagInput;return Object(p.jsxs)("div",{className:"tagging-rect",style:{top:"".concat(i-50,"px"),left:"".concat(a-40,"px")},children:[Object(p.jsx)("div",{className:"tag-window"}),e?Object(p.jsx)("input",{autoFocus:!0,className:"tag-input",onChange:this.onInputChange,value:c,ref:this.inputRef,onClick:this.onInputClick,onKeyPress:this.handleKeyPress}):Object(p.jsx)("div",{className:"tag-text",children:r})]})}}]),n}(a.Component),h=(n(18),function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).handleTagging=function(t){if(i.imgRef.current){var e=t.clientX,n=t.clientY,a=i.imgRef.current.getBoundingClientRect(),r=a.height,c=a.width;e>=a.left&&e<=a.left+c&&n>=a.top&&n<=a.top+r?i.setState({rectCoOrdinates:{x:e,y:n}}):(i.setState({taggingEnabled:!1,rectCoOrdinates:null}),window.removeEventListener("click",i.handleTagging))}},i.onToggleTag=function(t){t.stopPropagation(),i.setState((function(t){return t.taggingEnabled?(window.removeEventListener("click",i.handleTagging),Object(g.a)(Object(g.a)({},t),{},{taggingEnabled:!1,rectCoOrdinates:null,tagToDisplay:null})):(window.addEventListener("click",i.handleTagging),Object(g.a)(Object(g.a)({},t),{},{taggingEnabled:!0,tagToDisplay:null}))}))},i.saveTag=function(t,e){i.setState((function(n){return Object(g.a)(Object(g.a)({},n),{},{taggingEnabled:!1,rectCoOrdinates:null,savedTags:[].concat(Object(s.a)(n.savedTags),[{rectX:t.x,rectY:t.y,tagText:e}])})}))},i.onMouseMoveOverImg=function(t){if(!1===i.state.taggingEnabled){for(var e=t.clientX,n=t.clientY,a=i.state.savedTags,r=null,c=0;c<a.length;c++){var s=a[c],g=s.rectX-40,o=s.rectY-50;if(e>=g&&e<=g+80&&n>=o&&n<=o+100){r=a[c];break}}i.setState({tagToShow:r})}},i.renderTagOnHover=function(){var t=i.state,e=t.taggingEnabled,n=t.tagToShow;if(e||null===n)return null;var a=n.rectX,r=n.rectY,c=n.tagText;return Object(p.jsx)(f,{rectCoOrdinates:{x:a,y:r},isEditing:!1,tagText:c})},i.state={taggingEnabled:!1,rectCoOrdinates:null,savedTags:[],tagToShow:null},i.imgRef=Object(a.createRef)(),i}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props.src,e=this.state,n=e.taggingEnabled,a=e.rectCoOrdinates;return Object(p.jsxs)("div",{className:"taggable-image",children:[Object(p.jsx)("img",{src:t,alt:"",className:"".concat(n?"tagging-enabled":""),ref:this.imgRef,onMouseMove:this.onMouseMoveOverImg}),Object(p.jsx)("button",{className:"tag-btn",onClick:this.onToggleTag,children:"Add Tag"}),a?Object(p.jsx)(f,{rectCoOrdinates:a,isEditing:!0,onSaveTag:this.saveTag}):null,this.renderTagOnHover()]})}}]),n}(a.Component)),b=n.p+"static/media/group-sample.ca299d4d.jpeg";var v=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(h,{src:b})})};c.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.970cc0fa.chunk.js.map